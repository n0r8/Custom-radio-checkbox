(function(a){a.CustomData={elements:a()};a.fn.extend({Custom:function(b){var c=this;a.CustomData.elements=a.CustomData.elements.add(c);var d={customStyleClass:"checkbox",customHeight:"16"};b=a.extend(d,b);var e=function(){var c=a(this).children("input");if(c.prop("checked")){a(this).css("backgroundPosition","0px -"+b.customHeight*3+"px")}else{a(this).css("backgroundPosition","0px -"+b.customHeight+"px")}};var f=function(){var c=a(this);var d=c.children("input");if(d.prop("checked")&&d.is(":checkbox")){c.css("backgroundPosition","0px 0px");d.prop("checked",false).change()}else{if(d.is(":checkbox")){c.css("backgroundPosition","0px -"+b.customHeight*2+"px")}else{c.css("backgroundPosition","0px -"+b.customHeight*2+"px");a('input[name="'+d.attr("name")+'"]').not(d).parent().css("backgroundPosition","0px 0px")}d.prop("checked",true).change()}};var g=function(){a.CustomData.elements.each(function(){var b=a(this);if(b.prop("checked")){b.parent().css("backgroundPosition","0px -"+b.attr("data-height")*2+"px")}else{b.parent().css("backgroundPosition","0px 0px")}})};var h=function(){var b=a(this);if(!b.prop("disabled")){b.parent().bind({mousedown:e,mouseup:f}).removeClass("disabled")}else{b.parent().addClass("disabled").unbind({mousedown:e,mouseup:f})}};return this.each(function(){var c=a(this);if(c.attr("data-init")!="1"){c.attr("data-init","1");c.attr("data-height",b.customHeight);c.wrap("<span/>");var d=c.parent().addClass(b.customStyleClass);if(c.prop("checked")){d.css("backgroundPosition","0px -"+b.customHeight*2+"px")}c.bind("change",g).bind("custom.refresh",h);if(!c.prop("disabled")){d.mousedown(e);d.mouseup(f)}else{d.addClass("disabled")}}})}})})(jQuery)