(function(a){a.CustomData={elements:a()};a.fn.extend({Custom:function(b){var c=this;a.CustomData.elements=a.CustomData.elements.add(c);var d={customStyleClass:"checkbox",customHeight:"16"};var b=a.extend(d,b);var e=function(){var c=a(this).children("input");if(c.is(":checked")){a(this).css("backgroundPosition","0px -"+b.customHeight*3+"px")}else{a(this).css("backgroundPosition","0px -"+b.customHeight+"px")}};var f=function(){var c=a(this).children("input");if(c.is(":checked")&&c.attr("type")==="checkbox"){a(this).css("backgroundPosition","0px 0px");a(this).children("input").attr("checked",false).change()}else{if(c.attr("type")==="checkbox"){a(this).css("backgroundPosition","0px -"+b.customHeight*2+"px")}else{a(this).css("backgroundPosition","0px -"+b.customHeight*2+"px");a("input[name="+c.attr("name")+"]").not(c).parent().css("backgroundPosition","0px 0px")}a(this).children("input").attr("checked","checked").change()}};var g=function(){a.CustomData.elements.each(function(){if(a(this).is(":checked")){a(this).parent().css("backgroundPosition","0px -"+a(this).attr("data-height")*2+"px")}else{a(this).parent().css("backgroundPosition","0px 0px")}})};var h=function(){if(!a(this).prop("disabled")){a(this).parent().mousedown(e);a(this).parent().mouseup(f);a(this).parent().removeClass("disabled")}else{a(this).parent().addClass("disabled");a(this).parent().unbind("mousedown",e);a(this).parent().unbind("mouseup",f)}};return this.each(function(){if(a(this).attr("data-init")!="1"){a(this).attr("data-init","1");a(this).attr("data-height",b.customHeight);a(this).wrap("<span/>");var c=a(this).parent().addClass(b.customStyleClass);if(a(this).is(":checked")===true){c.css("backgroundPosition","0px -"+b.customHeight*2+"px")}a(this).bind("change",g);a(this).bind("custom.refresh",h);if(!a(this).prop("disabled")){c.mousedown(e);c.mouseup(f)}else{c.addClass("disabled")}}a(document).mouseup(g)})}})})(jQuery)